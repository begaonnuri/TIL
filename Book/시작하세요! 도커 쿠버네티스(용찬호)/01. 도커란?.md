# 1. 도커란?

- 도커는 리눅스 컨테이너에 기능을 추가해서 애플리케이션을 컨테이너로 쉽게 사용할 수 있도록 한 오픈소스 프로젝트이다.
- 기존의 가상화보다 성능 손실이 없다.
- 도커 컴포즈, 레지스트리, 도커 허브 등 다양한 프로젝트가 있지만 일반적으론 도커는 도커 엔진을 의미한다.



## 1.1 가상 머신과 도커 컨테이너

기존의 가상화 기술은 하이퍼바이저를 이용해 여러 운영체제를 하나의 호스트에서 생성해서 사용하는 방식이었다.

여러 운영체제를 가상머신이란 단위로 구분했고 가상머신에 운영체제가 설치되어 사용되었다.

이렇게 가상머신에 설치된 운영체제를 게스트 운영체제(Guest OS)라고 하고, 게스트 운영체제마다 완전히 독립되어 사용되었다.

대표적인 툴로 VirtualBox, VMware 등이 있다.



시스템 자원을 가상화하고 독립된 공간을 생성하는 작업은 하이퍼바이저를 거치기 때문에 성능 손실이 있다. 또한 가상머신은 게스트 운영체제를 사용하기 위한 라이브러리, 커널 등을 포함하기 때문에 배포 이미지 크기가 크다.



도커 컨테이너는 가상화 공간을 생성하기 위해 리눅스 자체 기능인 chroot, namespace, cgroup을 사용해서 프로세스 단위의 격리 환경을 만들기 때문에 성능 손실이 거의 없다. 컨테이너에 필요한 커널은 호스트의 커널을 공유해서 사용하고, 컨테이너 안에는 애플리케이션을 구동하는데 필요한 라이브러리와 실행파일만 존재하기 때문에 이미지 크기가 작다. 따라서 이미지 배포 시간도 빠르고 성능 손실도 거의 없다.



## 1.2 도커를 시작해야 하는 이유

### 1.2.1 애플리케이션의 개발과 배포가 편해진다.

서버를 부팅할 때 실행되는 운영체제를 `호스트 OS`라고 한다. 도커 컨테이너는 호스트 OS 위에서 실행되는 격리 공간이기 때문에 컨테이너에 권한을 주지 않는 이상 컨테이너의 변경이 호스트 OS에 영향을 끼치지 않는다.

컨테이너에서 작업을 하고 운영 환경에 배포할 경우 컨테이너를 이미지로 만들어 운영 서버에 전달하기만 하면 된다. 각종 라이브러리나 패키지를 설치할 필요가 없어서 개발과 운영 환경의 통합이 가능해진다.

도커 이미지는 가상머신 이미지와 달리 커널을 포함하고 있지 않기 때문에 이미지 크기가 작다. 또한 도커는 이미지의 내용을 레이어 단위로 구성해서 중복되는 레이어를 재사용한다.



### 1.2.2 여러 애플리케이션의 독립성과 확장성이 높아진다.

컨테이너는 몇 초 이내로 생성, 시작이 가능하고 여러 모듈에 독립된 환경을 제공할 수 있기 때문에 마이크로서비스 아키텍처에서 많이 사용된다.

