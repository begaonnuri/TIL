# 7.8 스키마 조작(DDL)

데이터베이스의 구조 및 정의를 생성하거나 변경하는 쿼리를 DDL(Data Definition Language)라고 한다.

DB나 테이블을 생성하거나 변경하는 대부분의 명령어가 DDL에 해당한다.

DDL 가운데 인덱스나 칼럼을 추가, 삭제하는 작업은 테이블의 모든 레코드를 임시 테이블로 복사하면서 처리하기 때문에 주의해야 한다.



## 7.8.1 데이터베이스

MySQL에서 데이터베이스는 단순히 테이블을 모아서 그룹화한다는 개념으로 사용하기 때문에 명령이 많지 않다.



### 데이터베이스 생성

```mysql
CREATE DATABASE [IF NOT EXISTS] employees CHARACTER SET utf8 COLLATE utf8_general_ci;
```

`CREATE DATABASE 데이터베이스명`을 통해 데이터베이스를 생성한다.

`CHARACTER SET` 과 `COLLATE` 를 지정하지 않으면 MySQL 서버의 character_set_server 시스템 변수에 저장된 값을 사용한다.

`IF NOT EXISTS` 를 지정한 경우 데이터베이스가 없는 경우에만 생성하고 존재한다면 무시된다.



### 데이터베이스 목록

```mysql
SHOW DATABASES LIKE '%emp%';
```

`SHOW DATABASES` 를 통해 MySQL 서버가 갖고 있는 데이터베이스 목록을 본다.

`LIKE`를 지정해 특정 문자열을 포함한 데이터베이스 목록을 볼 수 있다.



### 데이터베이스 선택

```mysql
USE employees;
```

`USE 데이터베이스명`을 통해 기본 데이터베이스를 선택할 수 있다.

기본 데이터베이스가 아닌 테이블이나 프로시저를 사용하려면 다음과 같이 데이터베이스명까지 명시해야한다.

```mysql
SELECT * FROM employees.departments;
```



### 데이터베이스 속성 변경

```mysql
ALTER DATABASE employees CHARACTER SET=euckr COLLATE=euckr_korean_ci;
```

`ALTER DATABSE 데이터베이스명` 을 통해 데이터베이스의 문자집합이나 콜레이션을 변경한다.

데이터베이스 생성과 달리 `=`가 들어가는 것을 주의하자.



### 데이터베이스 삭제

```sql
DROP DATABASE [IF EXISTS] employees;
```

`DROP DATABASE 데이터베이스명`을 통해 데이터베이스를 삭제한다.

`IF EXISTS`를 지정한 경우 존재할 경우만 삭제하고 존재하지 않으면 무시한다.